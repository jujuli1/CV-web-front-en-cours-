{"ast":null,"code":"var _jsxFileName = \"/home/julien/CV-web-front-en-cours-/src/pages/Auth/Login.js\";\nimport React, { useState } from 'react';\nimport Retour from '../../components/public/Retour';\nimport { useNavigate } from 'react-router-dom/dist';\nimport { accountService } from '../../services/account.service';\nimport axios from 'axios';\nconst Login = () => {\n  let navigate = useNavigate();\n\n  //const [ login, setLogin] = useState('')\n  //const [password, setPassword] = useState('') \n\n  const [credential, setCredential] = useState({\n    email: 'jujo@live.nh',\n    password: 'passwordalo'\n  });\n  const onChange = e => {\n    setCredential({\n      ...credential,\n      [e.target.name]: e.target.value\n    });\n  };\n  const onSubmit = e => {\n    e.preventDefault();\n    accountService.login(credential).then(res => {\n      console.log(res);\n      accountService.saveToken(res.data.access_token);\n      navigate('/admin', {\n        replace: true\n      });\n    }).catch(error => console.log(error));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Retour, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, \"Identifiant\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    value: credential.email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    value: credential.password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Connexion\"))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","Retour","useNavigate","accountService","axios","Login","navigate","credential","setCredential","email","password","onChange","e","target","name","value","onSubmit","preventDefault","login","then","res","console","log","saveToken","data","access_token","replace","catch","error","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","htmlFor","type"],"sources":["/home/julien/CV-web-front-en-cours-/src/pages/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Retour from '../../components/public/Retour';\nimport { useNavigate } from 'react-router-dom/dist';\nimport { accountService } from '../../services/account.service';\nimport axios from 'axios'\n\nconst Login = () => {\n\n    let navigate = useNavigate()\n\n    //const [ login, setLogin] = useState('')\n    //const [password, setPassword] = useState('') \n\n    const [credential, setCredential] = useState({\n        email: 'jujo@live.nh',\n        password: 'passwordalo'\n    })\n\n    const onChange = (e) => {\n\n        setCredential({\n            ...credential,\n            [e.target.name]: e.target.value\n        })\n    }\n    \n    const onSubmit = (e) =>{\n        e.preventDefault()\n        \n        accountService.login(credential)\n        .then(res => {\n            \n            console.log(res)\n            accountService.saveToken(res.data.access_token)\n            navigate('/admin', {replace:true})\n        })\n        .catch(error => console.log(error))\n        \n    }\n    return (\n        <div>\n            <Retour/>\n            <form onSubmit={onSubmit}>\n\n                <div className='group'>\n                    <label htmlFor='login'>Identifiant</label>\n                    <input type='text' name='email' value={credential.email} onChange={onChange}></input>\n                </div>\n                <div className='group'>\n                <label htmlFor='password'>Password</label>\n                <input type='text' name='password' value={credential.password} onChange={onChange}></input>\n                </div>\n                <div className='group'>\n                    <button>Connexion</button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}