{"ast":null,"code":"import React,{useState}from'react';import Retour from'../../components/public/Retour';import{useNavigate}from'react-router-dom/dist';import{accountService}from'../../services/account.service';import axios from'axios';const Login=()=>{let navigate=useNavigate();//const [ login, setLogin] = useState('')\n//const [password, setPassword] = useState('') \nconst[credential,setCredential]=useState({email:'jujo@live.nh',password:'passwordalo'});const onChange=e=>{setCredential({...credential,[e.target.name]:e.target.value});};const onSubmit=e=>{e.preventDefault();console.log(credential);axios.post('http://localhost:8989/auth/login',credential).then(res=>{console.log(res);accountService.saveToken(res.data.access_token);navigate('/admin');}).catch(error=>console.log(error));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Retour,null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"login\"},\"Identifiant\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",value:credential.email,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"password\",value:credential.password,onChange:onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(\"button\",null,\"Connexion\"))));};export default Login;","map":{"version":3,"names":["React","useState","Retour","useNavigate","accountService","axios","Login","navigate","credential","setCredential","email","password","onChange","e","target","name","value","onSubmit","preventDefault","console","log","post","then","res","saveToken","data","access_token","catch","error","createElement","className","htmlFor","type"],"sources":["/home/julien/CVReact(noAuth)/src/pages/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Retour from '../../components/public/Retour';\nimport { useNavigate } from 'react-router-dom/dist';\nimport { accountService } from '../../services/account.service';\nimport axios from 'axios'\n\nconst Login = () => {\n\n    let navigate = useNavigate()\n\n    //const [ login, setLogin] = useState('')\n    //const [password, setPassword] = useState('') \n\n    const [credential, setCredential] = useState({\n        email: 'jujo@live.nh',\n        password: 'passwordalo'\n    })\n\n    const onChange = (e) => {\n\n        setCredential({\n            ...credential,\n            [e.target.name]: e.target.value\n        })\n    }\n    \n    const onSubmit = (e) =>{\n        e.preventDefault()\n        console.log(credential)\n        axios.post('http://localhost:8989/auth/login', credential)\n        .then(res => {\n            \n            console.log(res)\n            accountService.saveToken(res.data.access_token)\n            navigate('/admin')\n        })\n        .catch(error => console.log(error))\n        \n    }\n    return (\n        <div>\n            <Retour/>\n            <form onSubmit={onSubmit}>\n\n                <div className='group'>\n                    <label htmlFor='login'>Identifiant</label>\n                    <input type='text' name='email' value={credential.email} onChange={onChange}></input>\n                </div>\n                <div className='group'>\n                <label htmlFor='password'>Password</label>\n                <input type='text' name='password' value={credential.password} onChange={onChange}></input>\n                </div>\n                <div className='group'>\n                    <button>Connexion</button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,gCAAgC,CACnD,OAASC,WAAW,KAAQ,uBAAuB,CACnD,OAASC,cAAc,KAAQ,gCAAgC,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAEhB,GAAI,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAE5B;AACA;AAEA,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGR,QAAQ,CAAC,CACzCS,KAAK,CAAE,cAAc,CACrBC,QAAQ,CAAE,aACd,CAAC,CAAC,CAEF,KAAM,CAAAC,QAAQ,CAAIC,CAAC,EAAK,CAEpBJ,aAAa,CAAC,CACV,GAAGD,UAAU,CACb,CAACK,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAC9B,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAIJ,CAAC,EAAI,CACnBA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAACZ,UAAU,CAAC,CACvBH,KAAK,CAACgB,IAAI,CAAC,kCAAkC,CAAEb,UAAU,CAAC,CACzDc,IAAI,CAACC,GAAG,EAAI,CAETJ,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC,CAChBnB,cAAc,CAACoB,SAAS,CAACD,GAAG,CAACE,IAAI,CAACC,YAAY,CAAC,CAC/CnB,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAAC,CACDoB,KAAK,CAACC,KAAK,EAAIT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC,CAAC,CAEvC,CAAC,CACD,mBACI5B,KAAA,CAAA6B,aAAA,yBACI7B,KAAA,CAAA6B,aAAA,CAAC3B,MAAM,KAAC,CAAC,cACTF,KAAA,CAAA6B,aAAA,SAAMZ,QAAQ,CAAEA,QAAS,eAErBjB,KAAA,CAAA6B,aAAA,QAAKC,SAAS,CAAC,OAAO,eAClB9B,KAAA,CAAA6B,aAAA,UAAOE,OAAO,CAAC,OAAO,EAAC,aAAkB,CAAC,cAC1C/B,KAAA,CAAA6B,aAAA,UAAOG,IAAI,CAAC,MAAM,CAACjB,IAAI,CAAC,OAAO,CAACC,KAAK,CAAER,UAAU,CAACE,KAAM,CAACE,QAAQ,CAAEA,QAAS,CAAQ,CACnF,CAAC,cACNZ,KAAA,CAAA6B,aAAA,QAAKC,SAAS,CAAC,OAAO,eACtB9B,KAAA,CAAA6B,aAAA,UAAOE,OAAO,CAAC,UAAU,EAAC,UAAe,CAAC,cAC1C/B,KAAA,CAAA6B,aAAA,UAAOG,IAAI,CAAC,MAAM,CAACjB,IAAI,CAAC,UAAU,CAACC,KAAK,CAAER,UAAU,CAACG,QAAS,CAACC,QAAQ,CAAEA,QAAS,CAAQ,CACrF,CAAC,cACNZ,KAAA,CAAA6B,aAAA,QAAKC,SAAS,CAAC,OAAO,eAClB9B,KAAA,CAAA6B,aAAA,eAAQ,WAAiB,CACxB,CACH,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAvB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}